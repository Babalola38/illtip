<!--
  Generated template for the UserprofilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<!-- <ion-header>
  <ion-navbar>
    <span class="left-arrow" *ngIf="backtohomepage == 'false'"></span> 
    <span class="left-arrow" style="background-color: red;" *ngIf="backtohomepage != 'false'"  (click)="doBack()"></span>  
    
    <ion-title *ngIf="otherProfile?.tiptag != null && otherProfile?.tiptag !=''">{{otherProfile?.tiptag}}</ion-title>
    <ion-title *ngIf="otherProfile?.tiptag == null || otherProfile?.tiptag ==''">{{otherProfile?.fullName}}</ion-title>
  </ion-navbar>
</ion-header> -->

<ion-header>
  <ion-navbar>
    <ion-title *ngIf="otherProfile?.tiptag != null && otherProfile?.tiptag !=''">{{otherProfile?.tiptag}}</ion-title>
    <ion-title *ngIf="otherProfile?.tiptag == null || otherProfile?.tiptag ==''">{{otherProfile?.fullName}}</ion-title>

    <span class="left-arrow"></span>
    <!-- <span class="left-arrow" *ngIf="backtohomepage != 'searchpage'"></span> 
    <span class="left-arrow" *ngIf="backtohomepage == 'searchpage'" (click)="doBack()"></span>  -->
  </ion-navbar>
</ion-header>

<ion-content >
    <div class="top-section" [ngStyle]="{'background-image': 'url(' +converted_image + ')'}">
     <div>
       <div class="topBtn">
         <div>
          <!-- <button *ngIf="otherProfile?.tiptag != null && otherProfile?.tiptag !=''">{{otherProfile.tiptag}}</button> -->
         </div>
         <!-- <span *ngIf="ublock !=true" (click)="blockUser()"></span> -->
         <span *ngIf="ublock !=true" (click)="doDots()"></span>
         <span *ngIf="ublock ==true" (click)="doDots2()"></span>

       </div>

      <div class="profileImg" *ngIf="profilePicture != null" [ngStyle]="{'background-image': 'url(' +converted_image + ')','background-position': '50% 50%'}"></div>
      <div class="profileImg" *ngIf="profilePicture == null" style="background-image: url(assets/imgs/name.png);"></div>

      <h2>{{otherProfile.fullName}}</h2>
      <p  *ngIf="otherProfile.skill == 0">skill</p>
      <p  *ngIf="otherProfile.skill !=0">{{otherProfile.skill}}</p>
      <!-- <a href="{{otherProfile.address}}">{{otherProfile.address}}</a> -->
      <div>
        <p [innerHTML] ="otherProfile.address | weblinky"></p>
      </div>
      <!-- <h3>illtip.com</h3> -->
      <!-- <div class="starImg" style="   background-image: url(assets/imgs/stars.png);" (click)="scrollTo()"></div> -->
      <!-- <div class="starImg" (click)="scrollTorec(recm)">
        <rating [(ngModel)]="rateing" max="5" readOnly="true"></rating>
      </div> -->
      <div class="buttonDiv">
        <!-- <button *ngIf="connect !=true" class="profile-btn" (click)="connectFrined()">Connect</button>
        <button *ngIf="connect ==true" class="profile-btn" (click)="message()">Connected</button> -->
        <button *ngIf="ublock !=true" class="profile-btn" (click)="connectFrined()">Connect</button>
        <button *ngIf="ublock ==true" class="profile-btn" (click)="message()">Connected</button>

        <button (click)="gotoFriendlist()">Friends</button>
      </div>
      <!-- <div class="bottomSection">
        <span class="chatIcon" (click)="gotoChat(otherProfile._id,otherProfile.fullName,otherProfile.profilePicture)"></span>
        <span class="handIcon"></span>
      </div> -->

      <div class="bottomSection">

        <ion-grid>
          <ion-row>
            <ion-col>
              <span class="chatIcon" (click)="gotoChat(otherProfile._id,otherProfile.fullName,otherProfile.profilePicture)"></span>
            </ion-col>
            <ion-col>
              <div class="starImg" style="   background-image: url(assets/imgs/stars.png);" (click)="scrollTo()"></div>
            </ion-col>
            <ion-col>
              <span *ngIf="otherProfile?.isVolunteer ==true" class="handIcon"></span>
            </ion-col>
          </ion-row>
        </ion-grid>
        
        
      </div>
     </div>
    </div>


    <div class="bdSection">
      <div class="aboutMe">
        <h4>About Me</h4>
        <p *ngIf="otherProfile.about==null">Please write some thing about yourself</p>
        <p *ngIf="otherProfile.about !=null">{{otherProfile.about}}</p>
        
      </div>
      <!-- <h4>Media</h4> -->



      <ngx-masonry *ngIf="ublock !=true">
        <div ngxMasonryItem class="galleryVideo" *ngFor="let list of photolist let i = index" [class.video-span] = "list.type == 'video'" (click)="selectoption(list._id,list.type,i,list)">

       
          <span *ngIf="list.type == 'image'&& list.imageThumb != null" [ngStyle]="{'background-image': 'url(' + list.videoThumb + ')'}"></span>
          <span *ngIf="list.type == 'image'&& list.imageThumb == null" [ngStyle]="{'background-image': 'url(' + list.path + ')'}"></span>
          <span *ngIf="list.type == 'video' && list.videoThumb == null" [ngStyle]="{'background-image': 'url(' + list.videoThumb + ')'}">
            <ion-icon ios="ios-videocam" md="md-videocam"></ion-icon>
          </span>

          <span *ngIf="list.type == 'video' && list.videoThumb != null" >
            <ion-icon ios="ios-videocam" md="md-videocam"></ion-icon>

            <video preload="metadata" autoplay loop [muted]="true" class="videocs" id="video" *ngIf="list.type == 'video'"> 
              <source src="{{list.path+'?#t=0.8'}}" type="video/mp4"/>
              <canvas id="canvas"></canvas>
            </video>

          </span>
     
     
     
      </div>
      </ngx-masonry>

      <!-- <div class="grid" >
        <div class="galleryVideo" *ngFor="let list of photolist let i = index" [class.video-span] = "list.type == 'video'">

       
            <span *ngIf="list.type == 'image'&& list.imageThumb != null" [ngStyle]="{'background-image': 'url(' + list.videoThumb + ')'}"></span>
            <span *ngIf="list.type == 'image'&& list.imageThumb == null" [ngStyle]="{'background-image': 'url(' + list.path + ')'}"></span>
            <span *ngIf="list.type == 'video' && list.videoThumb == null" [ngStyle]="{'background-image': 'url(' + list.videoThumb + ')'}">
              <ion-icon ios="ios-videocam" md="md-videocam"></ion-icon>
            </span>

            <span *ngIf="list.type == 'video' && list.videoThumb != null" >
              <ion-icon ios="ios-videocam" md="md-videocam"></ion-icon>

              <video preload="metadata" autoplay loop [muted]="true" class="videocs" id="video" *ngIf="list.type == 'video'"> 
                <source src="{{list.path+'?#t=0.8'}}" type="video/mp4"/>
                <canvas id="canvas"></canvas>
              </video>

            </span>
       
       
       
        </div>
      </div> -->


      <div class="recmendation">
        <h4>Recommendations</h4>
        <ion-list> 
          <ion-item *ngFor="let list of ratinglist let i = index"> 
            <ion-avatar item-start> 
              <!-- <div *ngIf="list.provider_id.profilePicture != null && list.datatype == 'file'" [ngStyle]="{'background-image': 'urls(' +list.provider_id.profilePicture + ')'}"></div> -->
              <!-- <img *ngIf="list.provider_id.profilePicture != null && list.datatype == 'file'" src="{{urls+list.provider_id.profilePicture}}"> -->
              <img *ngIf="list.provider_id.profilePicture != null && list.datatype == 'file'" src="{{urls+list.provider_id.profilePicture}}">
              <img *ngIf="list.provider_id.profilePicture != null && list.datatype == 'base64'" src='data:image/jpeg;base64,{{list.provider_id.profilePicture}}'>
              <img *ngIf="list.provider_id.profilePicture == null" src="assets/imgs/Oval.jpg">
            </ion-avatar> 
            <ion-label>
              <h4>{{list.provider_id.fullName}}</h4>
              <p>{{list.review}}</p>
              <rating [(ngModel)]="list.rating" max="5" readOnly="true"></rating>
            </ion-label> 
          </ion-item>
        </ion-list>
      </div>

      <ul class="recomendedUl">
        <!-- <li>
          <div class="leftSecyion">
            <div class="imgDiv" style="background-image: url(assets/imgs/Oval.jpg);"></div>
            <div class="contentDiv">
              <h4>Labeeba Al Amer</h4>
              <p>Curabitur lobortis id lorem id bibendum. Ut id consectetur magna.</p>
            </div>
          </div>
          <div class="rightSection">
            <span>5.0</span>
            <div class="ratingImg" style="background-image: url(assets/imgs/star.png);"></div>
          </div>
        </li>
        <li>
          <div class="leftSecyion">
            <div class="imgDiv" style="background-image: url(assets/imgs/Oval.jpg);"></div>
            <div class="contentDiv">
              <h4>Labeeba Al Amer</h4>
              <p>Curabitur lobortis id lorem id bibendum. Ut id consectetur magna.</p>
            </div>
          </div>
          <div class="rightSection">
            <span>5.0</span>
            <div class="ratingImg" style="background-image: url(assets/imgs/star.png);"></div>
          </div>
        </li> -->
      </ul>
    </div>
</ion-content>


<ion-footer>
  <div class="addAndScroll">
    <button style="background-image: url(assets/imgs/scrollIcon.png);" (click)="up()"></button>
  </div>
</ion-footer>
